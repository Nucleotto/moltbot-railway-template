{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {},
  "deploy": {},
  "services": {
    "gateway": {
      "source": {
        "repo": "Nucleotto/moltbot-railway-template",
        "rootDirectory": "services/gateway"
      },
      "variables": {
        "PORT": "8080",
        "HEALTH_PORT": "8081",
        "S3_BUCKET": "${{objectstorage.BUCKET_NAME}}",
        "S3_ENDPOINT": "${{objectstorage.BUCKET_HOST}}",
        "S3_ACCESS_KEY_ID": "${{objectstorage.ACCESS_KEY_ID}}",
        "S3_SECRET_ACCESS_KEY": "${{objectstorage.SECRET_ACCESS_KEY}}",
        "S3_REGION": "${{objectstorage.REGION}}",
        "S3_PREFIX": "moltbot/",
        "S3_SYNC_INTERVAL_MS": "30000"
      }
    },
    "setup": {
      "source": {
        "repo": "Nucleotto/moltbot-railway-template",
        "rootDirectory": "services/setup"
      },
      "variables": {
        "PORT": "8080",
        "GATEWAY_URL": "http://gateway.railway.internal:8080",
        "GATEWAY_INTERNAL_PORT": "8080",
        "S3_BUCKET": "${{objectstorage.BUCKET_NAME}}",
        "S3_ENDPOINT": "${{objectstorage.BUCKET_HOST}}",
        "S3_ACCESS_KEY_ID": "${{objectstorage.ACCESS_KEY_ID}}",
        "S3_SECRET_ACCESS_KEY": "${{objectstorage.SECRET_ACCESS_KEY}}",
        "S3_REGION": "${{objectstorage.REGION}}",
        "S3_PREFIX": "moltbot/"
      }
    },
    "objectstorage": {
      "type": "object-storage"
    }
  }
}
